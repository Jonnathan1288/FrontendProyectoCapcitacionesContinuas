<div class="container mb-5">
  <div>
    <div class="button-group  m-4" style="text-align: center;">
      <button class="button" (click)="obtenerCursosFull()">Todos</button>
      <button class="button" (click)="filtrarPorModalidadTarde()">En la Tarde</button>
      <button class="button" (click)="filtrarPorModalidadManana()">Por la Mañana</button>
      <button class="button" (click)="filtrarPorModalidadBasicos()">Básicos</button>
      <button class="button" (click)="filtrarPorModalidadIntermedios()">Intermedios</button>
      <button class="button" (click)="filtrarPorModalidadSuperior()">Avanzados</button>
      <button class="button" (click)="filtrarPorModalidadPresencial()">Presencial</button>
      <button class="button" (click)="filtrarPorModalidadVirtual()">Virtual</button>
      <button class="button" (click)="filtrarPorModalidadAdministrativo()">Administrativo</button>
      <button class="button" (click)="filtrarPorModalidadTecnico()">Técnicos</button>
      <button class="button" (click)="obtenerCursosFull()">X</button>
    </div>

    <div class="container">
      <div class="grid p-fluid">
        <div class="col-12 md:col-5">
          <p-dropdown [options]="listAreaFilter" placeholder="{{ placeholder }}" optionLabel="name" [showClear]="true"
            (onChange)="updatePlaceholder($event)">
            <ng-template let-area pTemplate="item">
              <div (click)="capturarIDAreFiltercourse(area.idArea)">{{ area.nombreArea }}</div>
            </ng-template>
          </p-dropdown>





        </div>



        <div class="col-12 md:col-7 ">

          <div class="ui-g-12 ui-md-4">

            <p-calendar placeholder="Filtar por mes" (onSelect)="onDateSelect($event)" id="fechaEvidencia"
              name="fechaEvidencia" view="month" dateFormat="mm/yy" [yearNavigator]="true" yearRange="2000:2030"
              [readonlyInput]="true" [showIcon]="true"></p-calendar>
          </div>
        </div>
        <div class="col-12 md:col-2 ">
          <button pButton type="button" class="p-button-primary" icon="pi pi-times"
            (click)="obtenernuevamenteLosCursosSinFiltros()"></button>

        </div>



      </div>

    </div>


    <div class="container" style="text-align: center;" *ngIf="!estadoMovimient">
      <p-message severity="info" text="INICIE SESIÓN PARA MÁS INFORMACIÓN DE LOS CURSOS DE CAPACITACIÓN CONTINUA"
        styleClass="mr-2"></p-message>

    </div>

    <div class="pricing__title m-5">Cursos</div>



    <div class="" style="height: 100px;" *ngIf="listCursos.length === 0">

    </div>

    <p-table #dt [value]="listCursos" dataKey="id" styleClass="p-datatable-customers" [rowHover]="true" [rows]="5"
      [showCurrentPageReport]="true" [rowsPerPageOptions]="[5,10,15]" responsiveLayout="scroll" [paginator]="true"
      [filterDelay]="0" currentPageReportTemplate="Mostrando {first} to {last} of {totalRecords} cursos"
      [filterDelay]="0" [showCurrentPageReport]="true"
      [globalFilterFields]="['nombreCurso','duracionCurso','fechaInicioCurso','fechaFinalizacionCurso','modalidadCurso','duracion','dias','capacaitador']">


      <ng-template pTemplate="caption">
        <div class="flex">
          <!-- <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button> -->
          <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash"
            (click)="clear(dt)"></button>

          <span class="p-input-icon-left ml-auto">
            <i class="pi pi-search"></i>
            <!-- <input pInputText type="text" (input)="filterTableCourse($event)"
                    placeholder="Search keyword" /> -->

            <input pInputText type="text" (input)="dt.filterGlobal($any($event.target).value, 'contains')"
              placeholder="Buscar cursos de capacitación..." style="width: 320px; font-size: 18px;" />

          </span>
        </div>
      </ng-template>


      <ng-template pTemplate="header">

        <tr>
          <th pSortableColumn="nombreCurso"><strong>CURSO</strong><p-sortIcon field="nombreCurso"></p-sortIcon>
          </th>
          <th pSortableColumn="capacitador"><strong>CAPACITADOR</strong><p-sortIcon field="capacitador"></p-sortIcon>
          </th>
          <th pSortableColumn="duracionCurso"><strong>DURACIÓN</strong><p-sortIcon field="duracionCurso"></p-sortIcon>
          </th>
          <th pSortableColumn="detalles"><strong>DETALLES</strong><p-sortIcon field="detalles"></p-sortIcon>
          </th>

        </tr>

      </ng-template>
      <ng-template pTemplate="body" let-data>

        <tr>
          <td>{{ data.nombreCurso }}</td>
          <td>{{ data.capacitador?.usuario?.persona?.nombre1 }} {{ data.capacitador?.usuario?.persona?.apellido1 }}</td>
          <td>{{ data.duracionCurso }}h</td>
          <td><button pButton label="Detalles" icon="pi pi-eye" class="p-button-success p-button-rounded"
              (click)="pasarInfoCurso(data.idCurso)"></button></td>
        </tr>
      </ng-template>
      <ng-template pTemplate="summary">
        <div class="flex align-items-center justify-content-between">
          En total hay {{listCursos ? listCursos.length : 0 }} Registros de cursos.
        </div>
      </ng-template>
    </p-table>
  </div>
</div>